# E20-Processor-Simulator

This project was based on simulating the E20 processor based on the E20 manual. This code parses file and loads an array, and prints out the state of each simulation at the end. The, I extracted each instruction from the array and parse it to determine which process to execute. It starts with initializing the memory (a uint16_t array of size 8192), the pc (a uint16_t counter), and the registers (a uint16_t array of size 8). Then, using the load_machine_code(ifstream &f, uint16_t mem[]) function that was provided, filled the memory array with instructions from a file. Then, I extracted all possible values, including the 3-bit opcode, the 3-bit registers, and the immediate values using bitwise operations such as "&", "|", ">>", etc. Then, using the if-else statements, I matched the opcode to its proper instruction, and executed the code in the if block that corresponded to the current opcode. For the case of opcode being equal to 0, I checked the least four significant bits to determine which nested if block to execute. This was all put in a while loop that was controlled by a boolean, halt. The program only halted if the pc jumped to its current address, which can happen in the j instruction only. As a further explanation, the condition to end the program can only be modified by the j instruction. This is because a program that tries to end not using the j instruction is considered erroneous/invalid code. Thus, the program does not account for the ending of the program in an instruction other than the jump, aka j, instruction. In addition, after each instruction that modified a register, I made sure to include the line "regs_arr[0] = 0;". This is to make sure that the zero register will always remain 0. This was done because in E20, although it is valid to write code that attempts to modify the 0 register, it is invalid for the program to actually carry out the modification and continue with the program. Thus, this line ensures that the zero register always remains as having the value 0.
